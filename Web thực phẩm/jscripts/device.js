var __mmapiwsState={},__mmapiwsRun=function(e,t,i){if(!__mmapiwsState.alreadyRan){__mmapiwsState.alreadyRan=!0;var n,a=["Abadi MT Condensed Light","Adobe Fangsong Std","Adobe Hebrew","Adobe Ming Std","Agency FB","Arab","Arabic Typesetting","Arial Black","Batang","Bauhaus 93","Bell MT","Bitstream Vera Serif","Bodoni MT","Bookman Old Style","Braggadocio","Broadway","Calibri","Californian FB","Castellar","Casual","Centaur","Century Gothic","Chalkduster","Colonna MT","Copperplate Gothic Light","DejaVu LGC Sans Mono","Desdemona","DFKai-SB","Dotum","Engravers MT","Eras Bold ITC","Eurostile","FangSong","Forte","Franklin Gothic Heavy","French Script MT","Gabriola","Gigi","Gisha","Goudy Old Style","Gulim","GungSeo","Haettenschweiler","Harrington","Hiragino Sans GB","Impact","Informal Roman","KacstOne","Kino MT","Kozuka Gothic Pr6N","Lohit Gujarati","Loma","Lucida Bright","Lucida Fax","Magneto","Malgun Gothic","Matura MT Script Capitals","Menlo","MingLiU-ExtB","MoolBoran","MS PMincho","MS Reference Sans Serif","News Gothic MT","Niagara Solid","Nyala","Palace Script MT","Papyrus","Perpetua","Playbill","PMingLiU","Rachana","Rockwell","Sawasdee","Script MT Bold","Segoe Print","Showcard Gothic","SimHei","Snap ITC","TlwgMono","Tw Cen MT Condensed Extra Bold","Ubuntu","Umpush","Univers","Utopia","Vladimir Script","Wide Latin"],o=["4game","AdblockPlugin","AdobeExManCCDetect","AdobeExManDetect","Alawar NPAPI utils","Aliedit Plug-In","Alipay Security Control 3","AliSSOLogin plugin","AmazonMP3DownloaderPlugin","AOL Media Playback Plugin","AppUp","ArchiCAD","AVG SiteSafety plugin","Babylon ToolBar","Battlelog Game Launcher","BitCometAgent","Bitdefender QuickScan","BlueStacks Install Detector","CatalinaGroup Update","Citrix ICA Client","Citrix online plug-in","Citrix Receiver Plug-in","Coowon Update","DealPlyLive Update","Default Browser Helper","DivX Browser Plug-In","DivX Plus Web Player","DivX VOD Helper Plug-in","doubleTwist Web Plugin","Downloaders plugin","downloadUpdater","eMusicPlugin DLM6","ESN Launch Mozilla Plugin","ESN Sonar API","Exif Everywhere","Facebook Plugin","File Downloader Plug-in","FileLab plugin","FlyOrDie Games Plugin","Folx 3 Browser Plugin","FUZEShare","GDL Object Web Plug-in 16.00","GFACE Plugin","Ginger","Gnome Shell Integration","Google Earth Plugin","Google Earth Plug-in","Google Gears 0.5.33.0","Google Talk Effects Plugin","Google Update","Harmony Firefox Plugin","Harmony Plug-In","Heroes & Generals live","HPDetect","Html5 location provider","IE Tab plugin","iGetterScriptablePlugin","iMesh plugin","Kaspersky Password Manager","LastPass","LogMeIn Plugin 1.0.0.935","LogMeIn Plugin 1.0.0.961","Ma-Config.com plugin","Microsoft Office 2013","MinibarPlugin","Native Client","Nitro PDF Plug-In","Nokia Suite Enabler Plugin","Norton Identity Safe","npAPI Plugin","NPLastPass","NPPlayerShell","npTongbuAddin","NyxLauncher","Octoshape Streaming Services","Online Storage plug-in","Orbit Downloader","Pando Web Plugin","Parom.TV player plugin","PDF integrado do WebKit","PDF-XChange Viewer","PhotoCenterPlugin1.1.2.2","Picasa","PlayOn Plug-in","QQ2013 Firefox Plugin","QQDownload Plugin","QQMiniDL Plugin","QQMusic","RealDownloader Plugin","Roblox Launcher Plugin","RockMelt Update","Safer Update","SafeSearch","Scripting.Dictionary","SefClient Plugin","Shell.UIHelper","Silverlight Plug-In","Simple Pass","Skype Web Plugin","SumatraPDF Browser Plugin","Symantec PKI Client","Tencent FTN plug-in","Thunder DapCtrl NPAPI Plugin","TorchHelper","Unity Player","Uplay PC","VDownloader","Veetle TV Core","VLC Multimedia Plugin","Web Components","WebKit-integrierte PDF","WEBZEN Browser Extension","Wolfram Mathematica","WordCaptureX","WPI Detector 1.4","Yandex Media Plugin","Yandex PDF Viewer","YouTube Plug-in","zako"],r=function(e,t){var i,n,a,o,r,l,c,u;for(i=3&e.length,n=e.length-i,a=t,r=3432918353,l=461845907,u=0;u<n;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*l+(((c>>>16)*l&65535)<<16)&4294967295,a^=c,a=a<<13|a>>>19,o=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=(65535&o)+27492+(((o>>>16)+58964&65535)<<16);switch(c=0,i){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:c^=255&e.charCodeAt(u),c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*l+(((c>>>16)*l&65535)<<16)&4294967295,a^=c}return a^=e.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0},l=function(){var e=["monospace","sans-serif","serif"],t=[],i="mmmmmmmmmmlli",n="72px",a=document.body,o=document.createElement("span");o.style.fontSize=n,o.style.visibility="hidden",o.innerHTML=i,a.appendChild(o);for(var r=function(e){return o.style.fontFamily=e,{height:o.offsetHeight,width:o.offsetWidth}},l=0;l<e.length;l++)t[l]=r(e[l]);this.detect=function(i){for(var n=0;n<t.length;n++){var a=r('"'+i+'",'+e[n]),o=t[n];if(a.height!==o.height||a.width!==o.width)return!0}return!1},this.finish=function(){a.removeChild(o)}},c=function(){var e,t;try{e=document.createElement("canvas"),t=e.getContext("2d")}catch(i){}if(t)return t.fillStyle="red",t.fillRect(30,10,200,100),t.strokeStyle="#1a3bc1",t.lineWidth=6,t.lineCap="round",t.arc(50,50,20,0,Math.PI,!1),t.stroke(),t.fillStyle="#42e1a2",t.font="15.4px 'Arial'",t.textBaseline="alphabetic",t.fillText("PR flacks quiz gym: TV DJ box when? ☠",15,60),t.shadowOffsetX=1,t.shadowOffsetY=2,t.shadowColor="white",t.fillStyle="rgba(0, 0, 200, 0.5)",t.font="60px 'Not a real font'",t.fillText("No骗",40,80),r(e.toDataURL())},u=function(){var e=['video/mp4; codecs="avc1.42c00d"','video/ogg; codecs="theora"','video/webm; codecs="vorbis,vp8"','video/webm; codecs="vorbis,vp9"','video/mp2t; codecs="avc1.42E01E,mp4a.40.2"'],t=["audio/mpeg",'audio/mp4; codecs="mp4a.40.2"','audio/ogg; codecs="vorbis"','audio/ogg; codecs="opus"','audio/webm; codecs="vorbis"','audio/wav; codecs="1"'],i=function(e){for(var t={},i=0;i<e.length;i++){var n=e[i];window.MediaSource?t[n]=window.MediaSource.isTypeSupported(n):window.WebKitMediaSource&&(t[n]=window.WebKitMediaSource.isTypeSupported(n))}return t};return{audio:i(t),video:i(e)}},d=function(){for(var e=[],t=new l,i=0;i<a.length;i++){var n=a[i];t.detect(n)&&e.push(n)}return t.finish(),e},s=function(){var e={},t=[];for(var i in navigator)"object"!=typeof navigator[i]&&(e[i]=navigator[i]),t.push(i);e.enumerationOrder=t,e.javaEnabled=navigator.javaEnabled();try{e.taintEnabled=navigator.taintEnabled()}catch(n){}return e},g=function(){for(var e=[],t=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","rmocx.RealPlayer G2 Control","Scripting.Dictionary","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","SWCtl.SWCtl","TDCCtl.TDCCtl","WMPlayer.OCX"],i=0;i<t.length;i++){var n=t[i];try{var a=new ActiveXObject(n),o={name:n};try{o.version=a.GetVariable("$version")}catch(r){}e.push(o)}catch(r){}}return e},m=function(e){var t={name:e.name,filename:e.filename.toLowerCase(),description:e.description};"undefined"!=typeof e.version&&(t.version=e.version),t.mimeTypes=[];for(var i=0;i<e.length;i++){var n=e[i];t.mimeTypes.push({description:n.description,suffixes:n.suffixes,type:n.type})}return t},p=function(){var e,t,i,n=[],a={};for(t=0;t<navigator.plugins.length;t++)e=navigator.plugins[t],a[e.name]=1,n.push(m(e));for(t=0;t<o.length;t++)i=o[t],a[i]||(e=navigator.plugins[i],e&&n.push(m(e)));return n},f=function(){return window.ActiveXObject?g():p()},h=function(){var e={},t=[];for(var i in screen)"object"!=typeof screen[i]&&(e[i]=screen[i]),t.push(i);return e.enumerationOrder=t,e},v=function(){var e={};return e.cookie=document.cookie.replace(/(?:(?:^|.*;\s*)__mmapiwsid\s*\=\s*([^;]*).*$)|^.*$/,"$1"),window.localStorage&&(e.localStorage=localStorage.getItem("__mmapiwsid")),t&&(e.flash=t),__mmapiwsState.indexedDbId&&(e.indexedDb=__mmapiwsState.indexedDbId),e},y=function(){var e=document.createElement("div"),t={},i=["ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText"];if(!window.getComputedStyle)return t;for(var n=0;n<i.length;n++)document.body.appendChild(e),e.style.color=i[n],t[i[n]]=window.getComputedStyle(e).getPropertyValue("color"),document.body.removeChild(e);return t},S=function(e,t){var i="attribute vec2 attrVertex; varying vec2 varyinTexCoordinate; uniform vec2 uniformOffset; void main() {   varyinTexCoordinate = attrVertex + uniformOffset;   gl_Position = vec4(attrVertex, 0, 1); }",n="precision mediump float; varying vec2 varyinTexCoordinate; void main() {   gl_FragColor = vec4(varyinTexCoordinate, 0, 1); }",a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),a.itemSize=3,a.numItems=3;var l=e.createProgram(),c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,i),e.compileShader(c);var u=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(u,n),e.compileShader(u),e.attachShader(l,c),e.attachShader(l,u),e.linkProgram(l),e.useProgram(l),l.vertexPosAttrib=e.getAttribLocation(l,"attrVertex"),l.offsetUniform=e.getUniformLocation(l,"uniformOffset"),e.enableVertexAttribArray(l.vertexPosArray),e.vertexAttribPointer(l.vertexPosAttrib,a.itemSize,e.FLOAT,!1,0,0),e.uniform2f(l.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,a.numItems),r(t.toDataURL())},w=function(){var e,t=document.createElement("canvas"),i={};try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(n){}if(!e)return i;try{i.extensions=e.getSupportedExtensions()}catch(n){}try{i.hash=S(e,t)}catch(n){}return i},P=function(e){var t=__mmapiwsState.db;if(t){var i="StoredId",n=t.transaction(i,"readwrite"),a=n.objectStore(i);a.put({id:0,value:e})}},b=function(e,t){var i="__mmapiwsid",n=new Date;if(n.setFullYear(n.getFullYear()+2),e||(e=document.domain),document.cookie=i+"="+t+"; expires="+n.toGMTString()+"; domain="+e+"; path=/",window.localStorage)try{localStorage.setItem(i,t)}catch(a){}var o=document.getElementById("__mmapiwsFlash");o&&"function"==typeof o.setStoredId&&o.setStoredId(t),P(t)};n=window.JSON&&window.JSON.stringify?function(e){var t="toJSON"in Array.prototype,i="toJSON"in Object.prototype,n=Array.prototype.toJSON,a=Object.prototype.toJSON;try{return delete Array.prototype.toJSON,delete Object.prototype.toJSON,JSON.stringify(e)}finally{t&&(Array.prototype.toJSON=n),i&&(Object.prototype.toJSON=a)}}:function(e){var t,i=typeof e;if("undefined"===i||null===e)return"null";if("number"===i||"boolean"===i)return String(e);if("object"===i&&e&&e.constructor===Array){t=[];for(var a=0;a<e.length;a++)t.push(n(e[a]));return"["+String(t)+"]"}if("object"===i){var o;t=[];for(o in e)e.hasOwnProperty(o)&&t.push('"'+o+'":'+n(e[o]));return"{"+String(t)+"}"}var r=String(e);return r=r.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),'"'+r+'"'};var C,T=function(e){return document.location.protocol+"//"+("d-ipv"+e+".mmapiws.com")+"/ant_squire"},A=function(e,t,i){var n=e.responseText.split(/;/),a=n[0],o=n[1],r=parseInt(n[2],10);"undefined"!=typeof o&&b(a,o),6===t&&6===r&&C(i,4)};C=function(e,t){var i,a,o=T(t);if(e.storedIds=v(),a=n(e),"Microsoft Internet Explorer"===navigator.appName&&window.XDomainRequest)i=new XDomainRequest,i.onload=function(){A(i,t)},i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){};else{try{i=new window.XMLHttpRequest}catch(r){}if(!i)try{i=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(r){}if(!i)return;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&A(i,t,e)}}try{i.open("POST",o,!0),"function"==typeof i.setRequestHeader&&i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.send(a)}catch(r){}};var D=function(){var t,n=new Date,a="undefined"!=typeof survey_height_follow?survey_height_follow:maxmind_user_id;try{t=y()}catch(o){}var r={canvas:{"2dHash":c(),webgl:w()},codecs:u(),deviceTime:n.getTime()/1e3,documentUrl:document.URL,documentMode:document.documentMode,flashCapabilities:i,fonts:{flash:e,css:d()},navigator:s(),plugins:f(),screen:h(),systemColors:t,timezoneOffset:n.getTimezoneOffset(),userId:a};return r},x=function(){if(navigator.getBattery)navigator.getBattery().then(function(e){var t=D();return t.battery={charging:e.charging,chargingTime:e.chargingTime,dischargingTime:e.dischargingTime,level:e.level},t}).then(function(e){C(e,6)});else{var e=D();C(e,6)}};x()}};!function(){if(!document.__mmapiwsStateTestingDevice){var e="StoredId",t=function(t){var i=t.transaction(e,"readonly"),n=i.objectStore(e),a=n.get(0);a.onsuccess=function(e){var t=e.target.result;t&&(__mmapiwsState.indexedDbId=t.value)}},i=function(){if(window.indexedDB){var i=indexedDB.open("__mmapiwsDb",1);null!==i&&(i.onsuccess=function(){__mmapiwsState.db=this.result,t(__mmapiwsState.db)},i.onerror=function(e){console.error("openDb:",e.target.errorCode)},i.onupgradeneeded=function(t){t.currentTarget.result.createObjectStore(e,{keyPath:"id"})})}},n=function(){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||window.ActiveXObject&&new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var e=document.createElement("embed");e.src=document.location.protocol+"//device.maxmind.com/flash/Device.swf",e.id="__mmapiwsFlash",e.setAttribute("allowscriptaccess","always"),e.style.height=0,e.style.width=0,e.style.overflow="hidden",e.style.position="fixed",e.style.right="100%",document.body.appendChild(e)}},a=function(){i(),"undefined"!=typeof document.body&&document.body?(n(),setTimeout(__mmapiwsRun,1e3)):setTimeout(a,500)};a()}}();
//# sourceMappingURL=device.js.map
